<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Job Dhundo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS and Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    body { background-color: #f8fdfb; }

    /* Logo styles */
    .brand-container { display: flex; align-items: center; gap: .5rem; text-decoration: none; }
    .brand-job { font-size: 1.25rem; font-weight: 800; color: #1fa971; }
    .brand-dhundo-badge {
      background: #1fa971; color: #fff; padding: .25rem .75rem; border-radius: .75rem;
      font-size: 1.25rem; font-weight: 800; transform: rotate(-2deg);
      box-shadow: 2px 2px 5px rgba(0,0,0,.1);
    }

    /* Hero section */
    .hero { padding: 4rem 1rem; background: linear-gradient(135deg, #e8f5ef, #ffffff); }

    /* Square card styling */
    .square-card { display: flex; flex-direction: column; height: 100%; }
    .square-card .card-body { flex: 1; padding: 0.75rem; }
    .square-card .card-footer { flex-shrink: 0; padding: 0.75rem; }

    /* Accessibility: focus outlines */
    .btn:focus, .form-control:focus {
      outline: 2px solid #1fa971;
      outline-offset: 2px;
    }

    /* Responsive tweaks */
    @media (max-width: 576px) {
      .brand-job, .brand-dhundo-badge { font-size: 1rem; }
      .hero h1 { font-size: 1.5rem; }
      .hero p { font-size: 0.9rem; }
    }
  </style>
</head>
<body>

<!-- ================= NAVBAR ================= -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
  <div class="container-fluid">
    <!-- Logo -->
    <a class="brand-container" href="#" aria-label="Job Dhundo Home">
      <span class="brand-job">Job</span>
      <span class="brand-dhundo-badge">Dhundo</span>
    </a>

    <!-- Navbar toggler for mobile -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
      aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navigation links -->
    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav ms-auto align-items-lg-center">
        <li class="nav-item"><a class="nav-link" href="#">Jobs</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Resume</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Messages</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Achievements</a></li>

        <!-- Navbar search form (hidden initially) -->
        <li class="nav-item d-none" id="navbarSearchForm">
          <form action="{% url 'mainpage' %}" method="get" class="d-flex mt-2 mt-lg-0" role="search">
            <label for="searchInput" class="visually-hidden">Search jobs</label>
            <input id="searchInput" type="text" name="q" class="form-control form-control-sm" placeholder="Search jobs...">
            <button type="submit" class="btn btn-success btn-sm ms-1 px-3">Go</button>
          </form>
        </li>

        <!-- Profile icon -->
        <li class="nav-item ms-lg-3 mt-2 mt-lg-0">
          <button class="btn btn-link p-0" aria-label="Profile">
            <i class="bi bi-person-circle fs-4 text-success"></i>
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- ================= HERO SECTION ================= -->
<section class="hero text-center mt-5 pt-5 pb-2">
  <div class="container">
    <h1 class="fw-bold">Find Jobs That Actually Match Your Skills</h1>
    <p class="text-muted mt-3">
      Search verified jobs, track applications, and build your resume â€” all in one place.
    </p>
    <div class="d-flex justify-content-center">
      <button class="btn btn-outline-success btn-lg rounded-pill px-4" onclick="showNavbarSearch()">
        Search Jobs
      </button>
    </div>
  </div>
</section>

<!-- ================= JOBS SECTION ================= -->
<section class="container">
  {% if query %}
    <h4 class="fw-bold mb-4">Results for "{{ query }}"</h4>
  {% else %}
    <h4 class="fw-bold mb-4">ðŸ”¥ Trending Jobs</h4>
  {% endif %}
  <div class="row g-4 justify-content-center" id="jobCardsContainer">
    {% for job in jobs %}
      <div class="col-md-3 col-sm-6">
        <div class="card square-card shadow-sm h-100">
          <div class="card-body">
            <!-- Job title -->
            <h6 class="card-title text-dark fw-bold mb-1">{{ job.title }}</h6>
            <!-- Company and location -->
            <small>{{ job.company.display_name }} â€“ {{ job.location.display_name }}</small>
            <!-- Salary and contract -->
            <p class="mb-1">
              <span class="badge bg-success">
                â‚¹{{ job.salary_min|default:"-" }} â€“ â‚¹{{ job.salary_max|default:"-" }}
              </span>
              <span class="badge bg-primary">
                {{ job.contract_time|default:"NA"|title }}
              </span>
            </p>
            <!-- Short description -->
            <small class="text-muted mt-2">{{ job.description|truncatewords:100 }}â€¦</small>
          </div>
          <!-- Apply button -->
          <div class="card-footer bg-white">
            <a href="{{ job.redirect_url }}" target="_blank"
              class="btn btn-success btn-sm w-100 rounded-pill text-white">Apply</a>
          </div>
        </div>
      </div>
    {% empty %}
      {% if query %}
        <p>No jobs found for "{{ query }}".</p>
      {% else %}
        <p>No jobs available right now.</p>
      {% endif %}
    {% endfor %}
  </div>
</section>

<!-- ================= PROGRESS SECTION ================= -->
<section class="container my-5">
  <h4 class="fw-bold mb-3">Your Job Hunt Progress</h4>
  <div class="row g-3">
    <div class="col-12 col-md-4">
      <div class="card text-center shadow-sm h-100">
        <div class="card-body">
          <h6>Profile Completed</h6>
          <h3 class="text-success">80%</h3>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-4">
      <div class="card text-center shadow-sm h-100">
        <div class="card-body">
          <h6>Jobs Applied</h6>
          <h3 class="text-success">12</h3>
        </div>
      </div>
    </div>
    <div class="col-12 col-md-4">
      <div class="card text-center shadow-sm h-100">
        <div class="card-body">
          <h6>Interview Calls</h6>
          <h3 class="text-success">2</h3>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ================= FOOTER ================= -->
<footer class="bg-white border-top py-3 mt-auto">
  <div class="container text-center text-muted small">
    Â© 2026 Job Dhundo â€¢ <a href="#" class="text-muted">About</a> â€¢ <a href="#" class="text-muted">Contact</a> â€¢ <a href="#" class="text-muted">Privacy</a>
  </div>
</footer>

<script>
function showNavbarSearch() {
  const searchForm = document.getElementById('navbarSearchForm');
  searchForm.classList.remove('d-none');
  const input = searchForm.querySelector('input');
  input.focus();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
